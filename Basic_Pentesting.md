# Basic Pentesting

IP: 10.10.176.16

'''
#Running nmap to find open ports:

Nmap Results:
nmap -sV -sC  10.10.176.16
Starting Nmap 7.92 ( https://nmap.org ) at 2022-10-25 12:55 EDT
Nmap scan report for 10.10.176.16
Host is up (0.18s latency).
Not shown: 994 closed tcp ports (conn-refused)
PORT     STATE SERVICE     VERSION
22/tcp   open  ssh         OpenSSH 7.2p2 Ubuntu 4ubuntu2.4 (Ubuntu Linux; protocol 2.0)
| ssh-hostkey: 
|   2048 db:45:cb:be:4a:8b:71:f8:e9:31:42:ae:ff:f8:45:e4 (RSA)
|   256 09:b9:b9:1c:e0:bf:0e:1c:6f:7f:fe:8e:5f:20:1b:ce (ECDSA)
|_  256 a5:68:2b:22:5f:98:4a:62:21:3d:a2:e2:c5:a9:f7:c2 (ED25519)
80/tcp   open  http        Apache httpd 2.4.18 ((Ubuntu))
|_http-server-header: Apache/2.4.18 (Ubuntu)
|_http-title: Site doesn't have a title (text/html).
139/tcp  open  netbios-ssn Samba smbd 3.X - 4.X (workgroup: WORKGROUP)
445/tcp  open  netbios-ssn Samba smbd 4.3.11-Ubuntu (workgroup: WORKGROUP)
8009/tcp open  ajp13       Apache Jserv (Protocol v1.3)
| ajp-methods: 
|_  Supported methods: GET HEAD POST OPTIONS
8080/tcp open  http        Apache Tomcat 9.0.7
|_http-title: Apache Tomcat/9.0.7
|_http-favicon: Apache Tomcat
Service Info: Host: BASIC2; OS: Linux; CPE: cpe:/o:linux:linux_kernel

Host script results:
| smb-os-discovery: 
|   OS: Windows 6.1 (Samba 4.3.11-Ubuntu)
|   Computer name: basic2
|   NetBIOS computer name: BASIC2\x00
|   Domain name: \x00
|   FQDN: basic2
|_  System time: 2022-10-25T12:55:29-04:00
|_clock-skew: mean: 1h20m01s, deviation: 2h18m34s, median: 1s
| smb2-time: 
|   date: 2022-10-25T16:55:30
|_  start_date: N/A
|_nbstat: NetBIOS name: BASIC2, NetBIOS user: <unknown>, NetBIOS MAC: <unknown> (unknown)
| smb-security-mode: 
|   account_used: guest
|   authentication_level: user
|   challenge_response: supported
|_  message_signing: disabled (dangerous, but default)
| smb2-security-mode: 
|   3.1.1: 
|_    Message signing enabled but not required

Service detection performed. Please report any incorrect results at https://nmap.org/submit/ .
Nmap done: 1 IP address (1 host up) scanned in 28.75 seconds
'''
'''
Running gobuster to find hidden directories
'''
gobuster dir -w /usr/share/wordlists/dirb/common.txt -u 10.10.176.16                    
===============================================================
Gobuster v3.1.0
by OJ Reeves (@TheColonial) & Christian Mehlmauer (@firefart)
===============================================================
[+] Url:                     http://10.10.176.16
[+] Method:                  GET
[+] Threads:                 10
[+] Wordlist:                /usr/share/wordlists/dirb/common.txt
[+] Negative Status codes:   404
[+] User Agent:              gobuster/3.1.0
[+] Timeout:                 10s
===============================================================
2022/10/25 13:01:47 Starting gobuster in directory enumeration mode
===============================================================
/.hta                 (Status: 403) [Size: 291]
/.htaccess            (Status: 403) [Size: 296]
/.htpasswd            (Status: 403) [Size: 296]
/development          (Status: 301) [Size: 318] [--> http://10.10.176.16/development/]
/index.html           (Status: 200) [Size: 158]                                       
/server-status        (Status: 403) [Size: 300]                                       
                                                                                      
===============================================================
2022/10/25 13:03:13 Finished
===============================================================
  
Visited 10.10.176.16/deveopment
found notes:
  
2018-04-23: I've been messing with that struts stuff, and it's pretty cool! I think it might be neat
to host that on this server too. Haven't made any real web apps yet, but I have tried that example
you get to show off how it works (and it's the REST version of the example!). Oh, and right now I'm 
using version 2.5.12, because other versions were giving me trouble. -K

2018-04-22: SMB has been configured. -K

2018-04-21: I got Apache set up. Will put in our content later. -J
  
  &
  
For J:

I've been auditing the contents of /etc/shadow to make sure we don't have any weak credentials,
and I was able to crack your hash really easily. You know our password policy, so please follow
it? Change that password ASAP.

-K
  
 Running enum4linux to get enumeration:
  enum4linux  10.10.176.16                                                              
Starting enum4linux v0.9.1 ( http://labs.portcullis.co.uk/application/enum4linux/ ) on Tue Oct 25 13:18:11 2022

 =========================================( Target Information )=========================================                                                                               
                                                                                            
Target ........... 10.10.176.16                                                             
RID Range ........ 500-550,1000-1050
Username ......... ''
Password ......... ''
Known Usernames .. administrator, guest, krbtgt, domain admins, root, bin, none


 ============================( Enumerating Workgroup/Domain on 10.10.176.16 )============================                                                                               
                                                                                            
                                                                                            
[+] Got domain/workgroup name: WORKGROUP                                                    
                                                                                            
                                                                                            
 ================================( Nbtstat Information for 10.10.176.16 )================================                                                                               
                                                                                            
Looking up status of 10.10.176.16                                                           
        BASIC2          <00> -         B <ACTIVE>  Workstation Service
        BASIC2          <03> -         B <ACTIVE>  Messenger Service
        BASIC2          <20> -         B <ACTIVE>  File Server Service
        ..__MSBROWSE__. <01> - <GROUP> B <ACTIVE>  Master Browser
        WORKGROUP       <00> - <GROUP> B <ACTIVE>  Domain/Workgroup Name
        WORKGROUP       <1d> -         B <ACTIVE>  Master Browser
        WORKGROUP       <1e> - <GROUP> B <ACTIVE>  Browser Service Elections

        MAC Address = 00-00-00-00-00-00

 ===================================( Session Check on 10.10.176.16 )===================================                                                                                
                                                                                            
                                                                                            
[+] Server 10.10.176.16 allows sessions using username '', password ''                      
                                                                                            
                                                                                            
 ================================( Getting domain SID for 10.10.176.16 )================================                                                                                
                                                                                            
Domain Name: WORKGROUP                                                                      
Domain Sid: (NULL SID)

[+] Can't determine if host is part of domain or part of a workgroup                        
                                                                                            
                                                                                            
 ===================================( OS information on 10.10.176.16 )===================================                                                                               
                                                                                            
                                                                                            
[E] Can't get OS info with smbclient                                                        
                                                                                            
                                                                                            
[+] Got OS info for 10.10.176.16 from srvinfo:                                              
        BASIC2         Wk Sv PrQ Unx NT SNT Samba Server 4.3.11-Ubuntu                      
        platform_id     :       500
        os version      :       6.1
        server type     :       0x809a03


 =======================================( Users on 10.10.176.16 )=======================================                                                                                
                                                                                            
Use of uninitialized value $users in print at ./enum4linux.pl line 972.                     
Use of uninitialized value $users in pattern match (m//) at ./enum4linux.pl line 975.

Use of uninitialized value $users in print at ./enum4linux.pl line 986.
Use of uninitialized value $users in pattern match (m//) at ./enum4linux.pl line 988.

 =================================( Share Enumeration on 10.10.176.16 )=================================                                                                                
                                                                                            
                                                                                            
        Sharename       Type      Comment
        ---------       ----      -------
        Anonymous       Disk      
        IPC$            IPC       IPC Service (Samba Server 4.3.11-Ubuntu)
Reconnecting with SMB1 for workgroup listing.

        Server               Comment
        ---------            -------

        Workgroup            Master
        ---------            -------
        WORKGROUP            BASIC2

[+] Attempting to map shares on 10.10.176.16                                                
                                                                                            
//10.10.176.16/Anonymous        Mapping: OK Listing: OK Writing: N/A                        

[E] Can't understand response:                                                              
                                                                                            
NT_STATUS_OBJECT_NAME_NOT_FOUND listing \*                                                  
//10.10.176.16/IPC$     Mapping: N/A Listing: N/A Writing: N/A

 ============================( Password Policy Information for 10.10.176.16 )============================                                                                               
                                                                                            
                                                                                            

[+] Attaching to 10.10.176.16 using a NULL share

[+] Trying protocol 139/SMB...

[+] Found domain(s):

        [+] BASIC2
        [+] Builtin

[+] Password Info for Domain: BASIC2

        [+] Minimum password length: 5
        [+] Password history length: None
        [+] Maximum password age: 37 days 6 hours 21 minutes 
        [+] Password Complexity Flags: 000000

                [+] Domain Refuse Password Change: 0
                [+] Domain Password Store Cleartext: 0
                [+] Domain Password Lockout Admins: 0
                [+] Domain Password No Clear Change: 0
                [+] Domain Password No Anon Change: 0
                [+] Domain Password Complex: 0

        [+] Minimum password age: None
        [+] Reset Account Lockout Counter: 30 minutes 
        [+] Locked Account Duration: 30 minutes 
        [+] Account Lockout Threshold: None
        [+] Forced Log off Time: 37 days 6 hours 21 minutes 



[+] Retieved partial password policy with rpcclient:                                        
                                                                                            
                                                                                            
Password Complexity: Disabled                                                               
Minimum Password Length: 5


 =======================================( Groups on 10.10.176.16 )=======================================                                                                               
                                                                                            
                                                                                            
[+] Getting builtin groups:                                                                 
                                                                                            
                                                                                            
[+]  Getting builtin group memberships:                                                     
                                                                                            
                                                                                            
[+]  Getting local groups:                                                                  
                                                                                            
                                                                                            
[+]  Getting local group memberships:                                                       
                                                                                            
                                                                                            
[+]  Getting domain groups:                                                                 
                                                                                            
                                                                                            
[+]  Getting domain group memberships:                                                      
                                                                                            
                                                                                            
 ==================( Users on 10.10.176.16 via RID cycling (RIDS: 500-550,1000-1050) )==================                                                                                
                                                                                            
                                                                                            
[I] Found new SID:                                                                          
S-1-22-1                                                                                    

[I] Found new SID:                                                                          
S-1-5-32                                                                                    

[I] Found new SID:                                                                          
S-1-5-32                                                                                    

[I] Found new SID:                                                                          
S-1-5-32                                                                                    

[I] Found new SID:                                                                          
S-1-5-32                                                                                    

[+] Enumerating users using SID S-1-5-32 and logon username '', password ''                 
                                                                                            
S-1-5-32-544 BUILTIN\Administrators (Local Group)                                           
S-1-5-32-545 BUILTIN\Users (Local Group)
S-1-5-32-546 BUILTIN\Guests (Local Group)
S-1-5-32-547 BUILTIN\Power Users (Local Group)
S-1-5-32-548 BUILTIN\Account Operators (Local Group)
S-1-5-32-549 BUILTIN\Server Operators (Local Group)
S-1-5-32-550 BUILTIN\Print Operators (Local Group)

[+] Enumerating users using SID S-1-22-1 and logon username '', password ''                 
                                                                                            
S-1-22-1-1000 Unix User\kay (Local User)                                                    
S-1-22-1-1001 Unix User\jan (Local User)

[+] Enumerating users using SID S-1-5-21-2853212168-2008227510-3551253869 and logon username '', password ''                                                                            
                                                                                            
S-1-5-21-2853212168-2008227510-3551253869-501 BASIC2\nobody (Local User)                    
S-1-5-21-2853212168-2008227510-3551253869-513 BASIC2\None (Domain Group)

 ===============================( Getting printer info for 10.10.176.16 )===============================                                                                                
                                                                                            
No printers returned.                                                                       


enum4linux complete on Tue Oct 25 13:31:36 2022

